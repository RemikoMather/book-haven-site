<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' https://cdn.pixabay.com data:;">
    <title>Book Haven - Your Literary Sanctuary</title>
    <meta name="description" content="Discover your next great read at Book Haven - a curated bookstore experience">
    
    <!-- Social Media Meta Tags -->
    <meta property="og:title" content="Book Haven - Your Literary Sanctuary">
    <meta property="og:description" content="Discover your next great read at our curated bookstore">
    <meta property="og:image" content="/images/bookhaven-social.jpg">
    <meta name="twitter:card" content="summary_large_image">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/design.css">
    <link rel="stylesheet" href="css/cart.css">
    <link rel="stylesheet" href="css/forms.css">
    <link rel="stylesheet" href="css/notifications.css">
    <link rel="stylesheet" href="css/breadcrumb.css">
    <link rel="stylesheet" href="css/quick-actions.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Book Haven",
        "image": "/images/bookhaven-social.jpg",
        "description": "A curated bookstore experience",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "123 Bookmark Lane",
            "addressLocality": "Booktown",
            "postalCode": "BT 12345"
        },
        "openingHours": "Mo-Sa 09:00-21:00",
        "telephone": "+1-555-123-4567"
    }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <a href="#main" class="skip-link">Skip to main content</a>

    <nav class="nav-container" role="navigation" aria-label="Main navigation">
        <div class="nav-content">
            <a href="index.html" class="logo" aria-label="Book Haven Homepage">Book Haven</a>
            <button class="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="nav-menu">
                <i class="fas fa-bars"></i>
                <span class="visually-hidden">Menu</span>
            </button>
            <div id="nav-menu" class="nav-links" aria-label="Site menu">
                <a href="index.html" aria-current="page">
                    <i class="fas fa-home" aria-hidden="true"></i>
                    <span>Home</span>
                </a>
                <a href="gallery.html">
                    <i class="fas fa-book" aria-hidden="true"></i>
                    <span>Gallery</span>
                </a>
                <a href="about.html">
                    <i class="fas fa-info-circle" aria-hidden="true"></i>
                    <span>About</span>
                </a>
                <a href="custom.html">
                    <i class="fas fa-cog" aria-hidden="true"></i>
                    <span>Custom</span>
                </a>
                <a href="contact.html">
                    <i class="fas fa-envelope" aria-hidden="true"></i>
                    <span>Contact</span>
                </a>
            </div>
            <div class="nav-cart">
                <button class="cart-toggle" aria-label="Open cart">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" data-cart-count aria-live="polite" hidden>0</span>
                </button>
                <div class="cart-dropdown">
                    <div class="cart-header">
                        <h3>Shopping Cart</h3>
                        <button class="close-cart" aria-label="Close cart">&times;</button>
                    </div>
                    <div id="cart-items" class="cart-items" aria-live="polite">
                        <!-- Cart items will be dynamically inserted here -->
                    </div>
                    <div class="cart-footer">
                        <div class="cart-total">
                            Total: $<span data-cart-total>0.00</span>
                        </div>
                        <button class="btn btn-primary checkout-btn" disabled>
                            Proceed to Checkout
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <main id="main">
        <section class="hero">
            <div class="container">
                <h1>Welcome to Book Haven</h1>
                <p class="hero-subtitle">Where every book tells a story</p>
                <div class="hero-cta">
                    <a href="gallery.html" class="btn btn-primary">Explore Collection</a>
                    <a href="about.html" class="btn btn-secondary">Our Story</a>
                </div>
            </div>
        </section>

        <section class="featured-collections">
            <div class="container">
                <h2 class="section-title">Featured Collections</h2>
                <div class="collection-grid">
                    <div class="gallery-item" data-category="fiction" data-id="1" data-price="24.99">
                        <img src="https://cdn.pixabay.com/photo/2019/01/30/08/30/book-3964050_640.jpg" 
                             alt="The Great Adventure" 
                             loading="lazy"
                             onerror="this.onerror=null; this.src='https://cdn.pixabay.com/photo/2019/01/30/08/30/book-3964050_640.jpg';">
                        <h3>The Great Adventure</h3>
                        <p class="book-author">By Jane Smith</p>
                        <p class="price">$24.99</p>
                        <button class="btn add-to-cart">Add to Cart</button>
                        <figcaption class="book-description">A thrilling journey through uncharted territories</figcaption>
                    </div>
                    <article class="collection-card">
                        <img src="https://cdn.pixabay.com/photo/2019/01/30/08/30/book-3964050_640.jpg" 
                             alt="Rare Books Collection" 
                             loading="lazy"
                             width="400"
                             height="300"
                             onerror="this.src='https://cdn.pixabay.com/photo/2019/01/30/08/30/book-3964050_640.jpg'">
                        <h3>Rare Finds</h3>
                        <p>Discover our curated selection of rare and first editions</p>
                        <a href="gallery.html?category=rare" class="btn btn-secondary">View Collection</a>
                    </article>
                    <article class="collection-card">
                        <img src="https://cdn.pixabay.com/photo/2019/01/30/08/30/book-3964050_640.jpg" alt="New Releases" loading="lazy">
                        <h3>New Arrivals</h3>
                        <p>Fresh off the press: This month's latest releases</p>
                        <a href="gallery.html?category=new" class="btn btn-secondary">Browse New</a>
                    </article>
                    <article class="collection-card">
                        <img src="https://cdn.pixabay.com/photo/2019/01/30/08/30/book-3964050_640.jpg" alt="Local Authors" loading="lazy">
                        <h3>Local Authors</h3>
                        <p>Supporting our community's literary voices</p>
                        <a href="gallery.html?category=local" class="btn btn-secondary">Meet Authors</a>
                    </article>
                </div>
            </div>
        </section>

        <section class="upcoming-events">
            <div class="container">
                <h2>Upcoming Events</h2>
                <div class="events-slider">
                    <article class="event-card">
                        <time datetime="2024-02-15">Feb 15</time>
                        <h3>Author Talk: Mystery Writing</h3>
                        <p>Join bestselling author Jane Smith for an evening of suspense</p>
                        <a href="about.html" class="btn btn-secondary">Learn More</a>
                    </article>
                    <!-- More event cards -->
                </div>
            </div>
        </section>
    </main>

    <div class="quick-actions">
        <button class="quick-actions-toggle" aria-label="Quick actions menu" aria-expanded="false" aria-controls="quick-actions-menu">
            <i class="fas fa-plus"></i>
        </button>
        <div id="quick-actions-menu" class="quick-actions-menu" role="menu">
            <a href="#" class="quick-action-item" role="menuitem" onclick="window.cart.showCart()">
                <i class="fas fa-shopping-cart"></i>
                <span>View Cart</span>
            </a>
            <a href="#footer-subscribe-form" class="quick-action-item" role="menuitem">
                <i class="fas fa-envelope"></i>
                <span>Subscribe</span>
            </a>
            <a href="contact.html" class="quick-action-item" role="menuitem">
                <i class="fas fa-phone"></i>
                <span>Contact Us</span>
            </a>
            <button class="quick-action-item" role="menuitem" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                <i class="fas fa-arrow-up"></i>
                <span>Back to Top</span>
            </button>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Book Haven</h3>
                <p>Your Literary Sanctuary</p>
                <div class="social-links">
                    <a href="#" class="social-link" aria-label="Follow us on Facebook"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="social-link" aria-label="Follow us on Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-link" aria-label="Follow us on Instagram"><i class="fab fa-instagram"></i></a>
                </div>
            </div>

            <div class="footer-section">
                <h3>Newsletter</h3>
                <form id="footer-subscribe-form" class="footer-newsletter-form" novalidate>
                    <div class="form-group">
                        <input type="email" 
                               id="footer-email" 
                               name="email" 
                               class="form-input" 
                               placeholder="Enter your email" 
                               required 
                               pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
                        <div id="footer-email-error" class="error-message" aria-live="polite"></div>
                    </div>
                    <button type="submit" class="btn">
                        Subscribe
                        <span class="loading-indicator" aria-hidden="true"></span>
                    </button>
                </form>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <!-- External Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Application Scripts -->
    <script src="js/debug.js" type="module"></script>
    <script src="js/supabase-config.js" type="module"></script>
    <script src="js/product-service.js" type="module"></script>
    <script src="js/config.js" type="module"></script>
    <script src="js/storage-manager.js" type="module"></script>
    <script src="js/cart-manager.js" type="module"></script>
    <script src="js/gallery.js" type="module"></script>
    <script src="js/common.js" type="module"></script>
    <script src="js/mobile-nav.js" type="module"></script>
    <script src="js/newsletter.js" type="module"></script>
    <script src="js/quick-actions.js" type="module"></script>
    <script src="js/script.js" type="module"></script>
</body>
</html>
