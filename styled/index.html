<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Haven - Your Literary Paradise<    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Mobile menu toggle
            document.querySelector('.nav-toggle').addEventListener('click', () => {
                document.querySelector('.nav-menu').classList.toggle('active');
            });
    <link rel="stylesheet" href="css/design-system.css">
    <link rel="stylesheet" href="css/cart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Page-specific styles */
        .hero {
            background-color: var(--color-aged-gold);
            color: white;
            padding: var(--spacing-xl) 0;
            text-align: center;
        }

        .hero h1 {
            color: white;
            font-size: 3rem;
            margin-bottom: var(--spacing-md);
        }

        .features {
            padding: var(--spacing-xl) 0;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-lg);
        }

        .feature-box {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--radius-md);
            text-align: center;
            box-shadow: var(--shadow-md);
        }

        .feature-box i {
            font-size: 2.5rem;
            color: var(--color-aged-gold);
            margin-bottom: var(--spacing-sm);
        }

        .newsletter {
            background-color: var(--color-inkwell-blue);
            color: white;
            padding: var(--spacing-xl) 0;
            text-align: center;
        }

        .newsletter-form {
            max-width: 500px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .features {
                grid-template-columns: 1fr;
            }

            .hero h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="index.html" class="nav-brand">Book Haven</a>
                <button class="nav-toggle" aria-label="Toggle navigation">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="nav-menu">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="gallery.html" class="nav-link">Gallery</a>
                    <a href="about.html" class="nav-link">About</a>
                    <a href="events.html" class="nav-link">Events</a>
                </div>
                <div class="nav-cart">
                    <button class="cart-toggle" aria-label="Open cart">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="cart-sidebar">
        <div class="cart-header">
            <h2>Shopping Cart</h2>
            <button class="close-cart" aria-label="Close cart">&times;</button>
        </div>
        <div id="cart-items" class="cart-items">
            <!-- Cart items will be dynamically inserted here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                Total: $<span id="cart-total">0.00</span>
            </div>
            <div class="cart-actions">
                <button id="clear-cart" class="btn btn-secondary">Clear Cart</button>
                <button id="process-order" class="btn btn-primary">Checkout</button>
            </div>
        </div>
    </div>

    <main>
        <section class="hero">
            <div class="container">
                <h1>Welcome to Book Haven</h1>
                <p style="font-size: 1.25rem; margin-bottom: var(--spacing-md);">Discover Your Next Literary Adventure</p>
                <a href="gallery.html" class="btn btn-secondary">Browse Books</a>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <div class="feature-box" data-book-id="featured1" data-price="24.99">
                    <img src="images/books/featured1.jpg" alt="The Art of Reading" class="feature-image">
                    <i class="fas fa-book"></i>
                    <h3>The Art of Reading</h3>
                    <p>A comprehensive guide to enriching your reading experience.</p>
                    <p class="feature-price">$24.99</p>
                    <button class="btn btn-primary add-to-cart">Add to Cart</button>
                </div>
                <div class="feature-box" data-book-id="featured2" data-price="29.99">
                    <img src="images/books/featured2.jpg" alt="Literary Journeys" class="feature-image">
                    <i class="fas fa-calendar"></i>
                    <h3>Literary Journeys</h3>
                    <p>Explore the world through captivating stories.</p>
                    <p class="feature-price">$29.99</p>
                    <button class="btn btn-primary add-to-cart">Add to Cart</button>
                </div>
                <div class="feature-box" data-book-id="featured3" data-price="19.99">
                    <img src="images/books/featured3.jpg" alt="Book Lover's Guide" class="feature-image">
                    <i class="fas fa-star"></i>
                    <h3>Book Lover's Guide</h3>
                    <p>Essential tips for building your perfect library.</p>
                    <p class="feature-price">$19.99</p>
                    <button class="btn btn-primary add-to-cart">Add to Cart</button>
                </div>
            </div>
        </section>

        <section class="newsletter">
            <div class="container">
                <h2>Stay Updated</h2>
                <p style="margin-bottom: var(--spacing-lg);">Subscribe to our newsletter for the latest updates and exclusive offers.</p>
                <form class="newsletter-form">
                    <div class="form-group">
                        <input type="email" class="form-control" placeholder="Enter your email address">
                    </div>
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                </form>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <h4>Contact Us</h4>
                    <p>123 Book Street<br>Literary Town, LT 12345</p>
                    <p>Phone: (555) 123-4567<br>Email: info@bookhaven.com</p>
                </div>
                <div>
                    <h4>Quick Links</h4>
                    <ul style="list-style: none;">
                        <li><a href="#" class="nav-link">About Us</a></li>
                        <li><a href="#" class="nav-link">Events</a></li>
                        <li><a href="#" class="nav-link">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Follow Us</h4>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- App scripts -->
    <script src="js/cart-manager.js"></script>
    <script src="js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Mobile menu toggle
            document.querySelector('.nav-toggle').addEventListener('click', () => {
                document.querySelector('.nav-menu').classList.toggle('active');
            });

            // Cart initialization
            const cartManager = new CartManager();
            
            // Cart UI event listeners
            const clearCartBtn = document.getElementById('clear-cart');
            const processOrderBtn = document.getElementById('process-order');
            const closeCartBtn = document.querySelector('.close-cart');
            const cartToggleBtn = document.querySelector('.cart-toggle');

            if (clearCartBtn) clearCartBtn.addEventListener('click', () => cartManager.clearCart());
            if (processOrderBtn) processOrderBtn.addEventListener('click', () => cartManager.processOrder());
            if (closeCartBtn) closeCartBtn.addEventListener('click', () => cartManager.toggleCart());
            if (cartToggleBtn) cartToggleBtn.addEventListener('click', () => cartManager.toggleCart());

            // Book cards "Add to Cart" buttons
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', (e) => {
                    const card = e.target.closest('.feature-box, .book-card');
                    if (!card) return;
                    
                    const bookData = {
                        id: card.dataset.bookId,
                        title: card.querySelector('h3').textContent,
                        price: parseFloat(card.dataset.price || '0'),
                        image: card.querySelector('img')?.src || ''
                    };

                    if (bookData.id && bookData.title && bookData.price) {
                        cartManager.addItem(bookData);
                    }
                });
            });

            // Make cart manager available globally for legacy support
            window.cartManager = cartManager;
        });

        // Initialize cart functionality
        const cartManager = new CartManager();
            
        // Add event listeners to all "Add to Cart" buttons
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', (e) => {
                const card = e.target.closest('.feature-box, .book-card');
                if (!card) return;
                
                const bookData = {
                    id: card.dataset.bookId,
                    title: card.querySelector('h3').textContent,
                    price: parseFloat(card.dataset.price || '0'),
                    image: card.querySelector('img')?.src || ''
                };

                console.log('Adding to cart:', bookData); // Debug log
                if (bookData.id && bookData.title && bookData.price) {
                    cartManager.addItem(bookData);
                }
            });
        });
    </script>
</body>
</html>
